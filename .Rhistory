filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package) %>%
filter(package == "olsrr" |  package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
pull(n) %>%
sum()
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "blorr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
?gzfile
gzfile("C:/Users/HP/Downloads/2018-05-11.csv")
library(readr)
read_csv(gzfile("C:/Users/HP/Downloads/2018-05-11.csv"))
read_csv(gzfile("C:/Users/HP/Downloads/2018-05-11.csv.gz"))
ls()
read_csv(gzfile("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz"))
read_csv(gzfile(url("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz")))
url("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz")
read_csv(url("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz"))
gzfile(url("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz"))
url("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz")
?gzfile
gzfile("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz")
read_csv(gzfile("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz"))
read_csv("http://cran-logs.rstudio.com/2018/2018-05-11.csv.gz")
lubridate::today() - 1
ls()
yday         <- lubridate::today() - 1
base_url     <- "http://cran-logs.rstudio.com/2018/"
modified_url <- paste0(base_url, yday, ".csv.gz")
modified_url
?read_csv
library(cranlogs)
cran_downloads("olsrr", when = "last-month")
lubridate::as_date("2018-05-06")
yday <- lubridate::as_date("2018-05-07")
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(modified_url)
yday
yday <- lubridate::as_date("2018-05-06")
yday
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
today_url
pkg_data  <- read_csv(modified_url)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(modified_url)
ls()
library(readr)
yday <- lubridate::as_date("2018-05-06")
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(modified_url)
pkg_data  <- read_csv(today_url)
library(dplyr)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
# code coverage (api)
pkg_code_coverage <- function(package_name) {
pkg_name <- paste0("/api/gh/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://codecov.io", path = pkg_name)
resp     <- GET(url)
result   <- jsonlite::fromJSON(content(resp, "text"), simplifyVector = FALSE)
result$commit$totals$c
}
pkg_code_coverage("olsrr")
# code coverage (api)
pkg_code_coverage <- function(package_name) {
pkg_name <- paste0("/api/gh/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://codecov.io", path = pkg_name)
resp     <- httr::GET(url)
result   <- jsonlite::fromJSON(content(resp, "text"), simplifyVector = FALSE)
result$commit$totals$c
}
pkg_code_coverage("olsrr")
# code coverage (api)
pkg_code_coverage <- function(package_name) {
pkg_name <- paste0("/api/gh/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://codecov.io", path = pkg_name)
resp     <- httr::GET(url)
result   <- jsonlite::fromJSON(httr::content(resp, "text"), simplifyVector = FALSE)
result$commit$totals$c
}
pkg_code_coverage("olsrr")
# appveyor (api)
pkg_appveyor_status <- function(package_name) {
pkg_name <- paste0("/api/projects/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://ci.appveyor.com", path = pkg_name)
resp     <- httr::GET(url)
result   <- jsonlite::fromJSON(httr::content(resp, "text"), simplifyVector = FALSE)
result$build$status
}
pkg_appveyor_status("olsrr")
library(magrittr)
# build passing
# - travis ci (api)
pkg_travis_status <- function(package_name) {
pkg_name <- paste0("repos/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://api.travis-ci.org", path = pkg_name)
resp     <- httr::GET(url)
result <-
httr::content(resp, "parsed") %>%
xml2::as_list() %>%
use_series('Projects') %>%
use_series('Project') %>%
attributes() %>%
use_series('lastBuildStatus')
k <- xml2::as_list(result)
attributes(k$Projects$Project)$lastBuildStatus
}
pkg_travis_status("olsrr")
package_name <- "olsrr"
pkg_name <- paste0("repos/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://api.travis-ci.org", path = pkg_name)
resp     <- httr::GET(url)
resp
httr::content(resp, "parsed")
httr::content(resp, "parsed") %>%
xml2::as_list()
%>%
use_series('Projects') %>%
use_series('Project') %>%
attributes() %>%
use_series('lastBuildStatus')
httr::content(resp, "parsed") %>%
xml2::as_list() %>%
use_series('Projects') %>%
use_series('Project') %>%
attributes() %>%
use_series('lastBuildStatus')
result <-
httr::content(resp, "parsed") %>%
xml2::as_list() %>%
use_series('Projects') %>%
use_series('Project') %>%
attributes() %>%
use_series('lastBuildStatus')
k <- xml2::as_list(result)
result
# build passing
# - travis ci (api)
pkg_travis_status <- function(package_name) {
pkg_name <- paste0("repos/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://api.travis-ci.org", path = pkg_name)
resp     <- httr::GET(url)
result <-
httr::content(resp, "parsed") %>%
xml2::as_list() %>%
use_series('Projects') %>%
use_series('Project') %>%
attributes() %>%
use_series('lastBuildStatus')
}
pkg_travis_status("olsrr")
# build passing
# - travis ci (api)
pkg_travis_status <- function(package_name) {
pkg_name <- paste0("repos/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://api.travis-ci.org", path = pkg_name)
resp     <- httr::GET(url)
httr::content(resp, "parsed") %>%
xml2::as_list() %>%
use_series('Projects') %>%
use_series('Project') %>%
attributes() %>%
use_series('lastBuildStatus')
}
pkg_travis_status("olsrr")
# build passing
# - travis ci (api)
pkg_travis_status <- function(package_name) {
pkg_name <- paste0("repos/rsquaredacademy/", package_name)
url      <- httr::modify_url("https://api.travis-ci.org", path = pkg_name)
resp     <- httr::GET(url)
httr::content(resp, "parsed") %>%
xml2::as_list() %>%
use_series('Projects') %>%
use_series('Project') %>%
attributes() %>%
use_series('lastBuildStatus') %>%
extract(1)
}
pkg_travis_status("olsrr")
pkg_github_stars <- function(user_name, repo_name) {
pkg_name <- paste0("/repos/", user_name, "/", repo_name)
url      <- httr::modify_url("https://api.github.com", path = pkg_name)
resp     <- httr::GET(url)
result   <- jsonlite::fromJSON(httr::content(resp, "text"), simplifyVector = FALSE)
# github stars (api)
result$stargazers_count
}
?devtools::install_github
pkg_github_stars <- function(repo) {
pkg_name <- paste0("/repos/", repo)
url      <- httr::modify_url("https://api.github.com", path = pkg_name)
resp     <- httr::GET(url)
result   <- jsonlite::fromJSON(httr::content(resp, "text"), simplifyVector = FALSE)
# github stars (api)
result$stargazers_count
}
pkg_github_stars("rsquaredacademy/olsrr")
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "blorr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "rfm") %>%
group_by(country) %>%
tally() %>%
pull(n) %>%
sum()
yday      <- lubridate::today() - 2
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package) %>%
filter(package == "olsrr" |  package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
pull(n) %>%
sum()
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "blorr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
yday      <- lubridate::today() - 3
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "blorr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "blorr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package) %>%
filter(package == "olsrr" |  package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
pull(n) %>%
sum()
library(readr)
library(dplyr)
yday      <- lubridate::today() - 2
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
yday      <- lubridate::today() - 1
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package) %>%
filter(package == "olsrr" |  package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
pull(n) %>%
sum()
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "blorr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "rfm") %>%
group_by(country) %>%
tally() %>%
pull(n) %>%
sum()
pkg_data %>%
select(package, country) %>%
filter(package == "rfm") %>%
group_by(country) %>%
tally()
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
library(cranlogs)
cran_downloads("olsrr", when = "last-week")
# total
release_date <- lubridate::as_date("2017-05-01")
recent_date  <- lubridate::today() - 1
cran_downloads("olsrr", from = release_date, to = recent_date) %>%
select(count) %>%
sum()
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package, country) %>%
filter(package == "blorr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
library(readr)
library(dplyr)
yday      <- lubridate::today() - 1
base_url  <- "http://cran-logs.rstudio.com/2018/"
today_url <- paste0(base_url, yday, ".csv.gz")
pkg_data  <- read_csv(today_url)
pkg_data %>%
select(package) %>%
filter(package == "olsrr" | package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
arrange(desc(n))
pkg_data %>%
select(package) %>%
filter(package == "olsrr" |  package == "descriptr" |
package == "inferr" | package == "rfm" |
package == "blorr") %>%
group_by(package) %>%
tally() %>%
pull(n) %>%
sum()
pkg_data %>%
select(package, country) %>%
filter(package == "olsrr") %>%
group_by(country) %>%
tally() %>%
arrange(desc(n))
